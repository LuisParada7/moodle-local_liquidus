/**
 * Loads Appcues tracker.
 *
 * @package   local_liquidus
 * @copyright Copyright (c) 2021 Open LMS
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_liquidus/appcues-lazy",["jquery","core/log"],(function($,Log){var self=this,tracker={};return self.addAnalyticsJS=function(){const dfd=$.Deferred();if(tracker.trackerInfo.accountid)return"undefined"==typeof Appcues?(dfd.fail(),dfd):(self.analytics=Appcues,dfd.resolve(),dfd);Log.debug("Liquidus is misconfigured for Appcues, Account ID is missing.")},tracker.loadTracker=function(trackerInfo){return tracker.trackerInfo=trackerInfo,self.addAnalyticsJS()},tracker.identify=function(){const userRolesString=String(tracker.trackerInfo.staticShares.allUserRoles);self.analytics.identify(tracker.trackerInfo.staticShares.userHash,{userRoles:userRolesString})},tracker.trackPage=function(){self.analytics.page();let data={};if(tracker.trackerInfo.staticShares.plugins){const plugins=tracker.trackerInfo.staticShares.plugins;Object.entries(plugins).forEach((_ref=>{let[type,value]=_ref;data["PluginsUsed_"+type]=value})),delete tracker.trackerInfo.staticShares.plugins}Object.entries(tracker.trackerInfo.staticShares).forEach((_ref2=>{let[type,value]=_ref2;data[type]=value})),self.analytics.track("Page view",data)},tracker.processEvent=function(dfd,metricName,data){self.analytics.track(metricName,data)},tracker}));

//# sourceMappingURL=appcues-lazy.min.js.map